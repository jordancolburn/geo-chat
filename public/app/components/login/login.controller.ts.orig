
/// <reference path="..\..\app.ts" />
/// <reference path="..\..\..\..\typings\firebase\firebase.d.ts" />
/// <reference path="..\..\..\..\typings\firebase\firebase.d.ts" />
/// <reference path="..\..\models\user.ts" />
/// <reference path="..\..\models\message.ts" />
/// <reference path="..\..\models\location.ts" />
module GeoChat {

    export class LoginCtrl {
        public static $inject = [ 'AuthService'];
        private ref: Firebase;
        private authService: any
        constructor(AuthService)
        { 
            this.authService = AuthService;
        }
        
        login(email:string,password:string)
        {   
<<<<<<< HEAD
            this.authService.login(email,password);
=======
            firebase.auth().signInWithEmailAndPassword(email, password).then(function(authData) {
                window.localStorage.setItem('userId', authData.uid);
                window.location = '/';
            }).catch(function(error){
               alert(error); 
            });
>>>>>>> f74470a6a8fbc71f47ffff86a874d228b6c727c3
        }
    }

    geoChatApp.controller("LoginCtrl", LoginCtrl);

}